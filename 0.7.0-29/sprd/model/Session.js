define(["sprd/data/SprdModel","sprd/model/User"],function(e,t){return e.inherit("sprd.model.Session",{defaults:{username:null,password:null},schema:{user:{type:t,required:!1},href:{type:String,required:!1},username:String,password:String},login:function(e,t,n){var r=Array.prototype.slice.call(arguments);r.length===1?n=arguments[0]:this.set({username:e,password:t}),this.validateAndSave(null,function(e,t){!e&&t?t.fetch({fetchSubModels:["user"]},n):n(e)})},logout:function(e){this.remove(null,e)}})});