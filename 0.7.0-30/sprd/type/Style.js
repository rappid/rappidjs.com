define(["text/type/Style","underscore"],function(e,t){return e.inherit({_getUniqueFontName:function(){var e=this.$.font;return e?e.getUniqueFontName():null},_getColor:function(){var e=this.$.printTypeColor;return e?e.toHexString():null},_getPrintColorId:function(){var e=this.$.printTypeColor;return e?e.$.id:null},compose:function(){var e=this.callBase();this.$.font&&(e.fontFamily=this._getUniqueFontName(),e.fontWeight="normal",e.fontStyle="normal"),e.color=this._getColor(),e.printColorId=this._getPrintColorId(),delete e.printTypeColor,delete e.font;for(var t in e)e.hasOwnProperty(t)&&e[t]===null&&delete e[t];return e},serialize:function(){var e=this.$.font,t=e.getFontFamily();return{fontFamilyId:t.$.id,fontId:e.$.id,printColorId:this._getPrintColorId(),fill:this._getColor(),fontFamily:e.$.name,fontWeight:e.$.weight,fontStyle:e.$.style,fontSize:this.$.fontSize}},clone:function(){var e={exclude:["font","printTypeColor"]};return this.callBase(e)}})});