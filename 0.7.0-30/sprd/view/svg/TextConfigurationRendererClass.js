define(["sprd/view/svg/ConfigurationRenderer","js/core/Bus"],function(e,t){return e.inherit("sprd.view.svg.TextConfigurationRendererClass",{defaults:{tagName:"g",componentClass:"text-configuration",productViewer:null,configurationViewer:null,configuration:null,showSelection:"{configurationViewer.isSelectedConfiguration()}",textArea:null,imageService:null},inject:{bus:t},ctor:function(){this.$firstSelection=!0,this.callBase()},render:function(){return this._loadFonts(),this.callBase()},isNotMobile:function(){return!this.$stage.$browser.isMobile},_loadFonts:function(){var e=this.$.configuration;if(!e)return;var t=e.getUsedFonts(),n=this.getSvgRoot(),r=this.$stage.$browser.isIOS?"svg#font":"woff";for(var i=0;i<t.length;i++){var s=t[i];n.fontManager.loadExternalFont(s.getUniqueFontName(),this.$.imageService.fontUrl(s,r))}},handleKeyPress:function(e){this.$.textArea.handleKeyPress(e)},addChar:function(e){this.$.textArea.addChar(e)},handleKeyDown:function(e){this.$.textArea.handleKeyDown(e)}})});