define(["js/ui/View","js/core/Bindable","moment"],function(e,t,n){return e.inherit("js.ui.DatePickerClass",{defaults:{date:null,minYear:(new Date).getFullYear()-10,maxYear:(new Date).getFullYear()+10,_viewDate:Date},initialize:function(){this.$.date&&this.set({_viewDate:this.$.date}),this.callBase()},_years:function(){var e=[];for(var t=this.$.minYear;t<=this.$.maxYear;t++)e.push(t);return e},_months:function(){var e=[];for(var t=0;t<12;t++)e.push(t);return e},_monthName:function(e){return n().month(e).format("MMM")},_days:function(){var e=[];for(var t=0;t<7;t++)e.push(t+1);return e},_weeks:function(){var e=[],t=5,r=n(this.$._viewDate).day(),i=n(this.$._viewDate).daysInMonth();if(r===0||r>4)t=6;for(var s=0;s<t;s++)e.push(s);return e}.onChange("_viewDate"),_dayName:function(e){return n().day(e).format("dd")},_calendarDate:function(e,t){return n([this.$._viewDate.getFullYear(),this.$._viewDate.getMonth(),e*7]).day(t).toDate()}.onChange("_viewDate"),_onNextMonth:function(){var e=n(this.$._viewDate).clone().add("months",1);this.set("_viewDate",e.toDate())},_onPrevMonth:function(){var e=n(this.$._viewDate).clone().add("months",-1);this.set("_viewDate",e.toDate())},_onMonthChange:function(e){var t=e.target.$.selectedItem;this.set("_viewDate",n([this.$._viewDate.getFullYear(),t,1]).toDate())},_onYearChange:function(e){var t=e.target.$.selectedItem;this.set("_viewDate",n([t,this.$._viewDate.getMonth(),1]).toDate())},_onDateSelect:function(e){var t=e.target.find("_itemDate");t.getMonth()!==this.$._viewDate.getMonth()&&this.set("_viewDate",n([t.getFullYear(),t.getMonth()]).toDate()),this.set("date",t)},_isCurrentDate:function(e){return this.$.date&&e&&e.getTime()===this.$.date.getTime()}.onChange("date")})});