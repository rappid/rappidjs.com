define(["js/data/QueryMapper","underscore"],function(e,t){var n={eql:"=",gt:">",lt:"<",lte:"<=",gte:">="};return e.inherit("js.data.mapper.RestQueryMapper",{compose:function(e){var t=e.toObject(),n={};return t.sort&&(n.sort=this.translateSort(t.sort)),t.where&&(n.where=this.translateOperator(t.where)),n},translateSort:function(e){return e},translateOperator:function(e,r){r=t.isUndefined(r)?0:r;var i=e.operator;if(i==="and"||i==="or"){var s=this.translateExpressions(e.expressions,r+1).join(" "+i+" ");return s.length>1&&r!==0?"("+s+")":s}if(n.hasOwnProperty(i))return e.field+n[i]+e.value;if(e.field&&!t.isUndefined(e.value)){var o=e.value;return o instanceof Array&&(o="("+e.value.join(",")+")"),i+"("+e.field+","+o+")"}return i},translateExpressions:function(e,t){var n=[];for(var r=0;r<e.length;r++)n.push(this.translateOperator(e[r],t));return n}})});